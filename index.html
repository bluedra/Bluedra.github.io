<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>25点购点模拟</title>
    <style>
        body {
            font-weight: bold;
        }

        h2 {
            margin: 10px;
        }

        .parent {
            margin: 0px auto;
            width: 60%;
            text-align: center;
        }
    </style>
     <script src="jquery.js"></script>
    <script>
        var points = 20;
        var disposablePoints = points;
        $(function () {
            $('.add').click(function () {
                var dom = $(this).parent().find('.num');
                var point = parseInt(dom.text());
                if (checkPoint(point, 1)) {
                    dom.text(point + 1);
                }
            })

            $('.min').click(function () {
                var dom = $(this).parent().find('.num');
                var point = parseInt(dom.text());
                if (checkPoint(point, -1)) {
                    dom.text(point - 1);
                }
            })
        })

        //判断增减后需要消耗的点数
        function checkPoint(point, flag) {
            if (flag >= 0) {
                //正数,代表即将增加这一项
                if (point == 18) {
                    //如果已经加满18点,终止后续操作
                    return false;
                }
                var cost = getCost(point, 1);
                if (disposablePoints < cost) {
                    return false;
                } else if (disposablePoints == cost) {
                    disposablePoints = 0;
                    $('#disposablePoints').html('<font color="red">0<font>');
                } else {
                    disposablePoints -= cost;
                    $('#disposablePoints').html(disposablePoints);
                }
                return true;
            } else {
                //负数,代表减少这一项
                if (point == 7) {
                    //如果已经减到7点,终止后续操作
                    return false;
                }
                var cost = getCost(point, -1);
                disposablePoints -= cost;
                $('#disposablePoints').html(disposablePoints);
                return true;
            }
        }

        //计算需要花费多少点数才能进行增减
        function getCost(point, flag) {
            if (flag >= 0) {
                if (point == 7) {
                    return 2;
                } else if (point == 8) {
                    return 1;
                } else if (point == 9) {
                    return 1;
                } else if (point == 10) {
                    return 1;
                } else if (point == 11) {
                    return 1;
                } else if (point == 12) {
                    return 1;
                } else if (point == 13) {
                    return 2;
                } else if (point == 14) {
                    return 2;
                } else if (point == 15) {
                    return 3;
                } else if (point == 16) {
                    return 3;
                } else {
                    return 4;
                }
            } else {
                if (point == 8) {
                    return -2;
                } else if (point == 9) {
                    return -1;
                } else if (point == 10) {
                    return -1;
                } else if (point == 11) {
                    return -1;
                } else if (point == 12) {
                    return -1;
                } else if (point == 13) {
                    return -1;
                } else if (point == 14) {
                    return -2;
                } else if (point == 15) {
                    return -2
                } else if (point == 16) {
                    return -3;
                } else if (point == 17) {
                    return -3
                } else {
                    return -4;
                }
            }
        }
    </script>
</head>
<body>
<div class="parent">
    <h2>购点模拟器</h2>
    <span>总点数:</span><span id="points">20</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <span>可用点数:</span><span id="disposablePoints">20</span>
    <div>
        力量：<font class="num">10</font>
        <button class="add">+</button>
        <button class="min">-</button>
    </div>
    <div>
        敏捷：<font class="num">10</font>
        <button class="add">+</button>
        <button class="min">-</button>
    </div>
    <div>
        体质：<font class="num">10</font>
        <button class="add">+</button>
        <button class="min">-</button>
    </div>
    <div>
        智力：<font class="num">10</font>
        <button class="add">+</button>
        <button class="min">-</button>
    </div>
    <div>
        感知：<font class="num">10</font>
        <button class="add">+</button>
        <button class="min">-</button>
    </div>
    <div>
        魅力：<font class="num">10</font>
        <button class="add">+</button>
        <button class="min">-</button>
    </div>
</div>
</body>
</html>